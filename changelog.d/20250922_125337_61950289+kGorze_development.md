<!--
A new scriv changelog fragment.

Uncomment the section that is right (remove the HTML comment wrapper).
For top level release notes, leave all the headers commented out.
-->

<!--
### Removed

- A bullet item for the Removed category.

-->
<!--
### Added

- A bullet item for the Added category.

-->
### Changed
- Refactored the DeepTICACurriculumTrainer training workflow into modular helpers for dataset preparation, curriculum staging, and epoch aggregation to satisfy complexity limits without simplifying recorded metrics.
- Broke down the lint-hotspot helpers for diagnostics, FES, shard aggregation, demux dataset building, and the demultiplexing orchestrators so complexity checks pass without altering runtime behaviour.

<!--
### Deprecated

- A bullet item for the Deprecated category.

-->
### Fixed

- Fixed mypy type errors in `replica_exchange/simulation.py`: resolved duplicate Simulation class definition and inconsistent function signatures for `prepare_system`, `production_run`, `build_transition_model`, `relative_energies`, and `plot_DG` to match their full implementation counterparts.
- Fixed multiple mypy type errors across the codebase:
  - Added proper type annotation for `__all__` in `ml/__init__.py`
  - Fixed `_require` argument type error in `shards/schema.py`
  - Fixed union-attr error in `reweight/reweighter.py`
  - Fixed no-any-return errors in `io/shard_id.py`, `data/shard.py`, and `analysis/discretize.py`
  - Added missing type annotations for variables in `replica_exchange/_simulation_full.py`, `features/deeptica_trainer.py`, and `features/deeptica/_full.py`
- Achieved significant progress in mypy type error resolution: reduced from 185+ errors to 121 errors (35% reduction)
- Fixed critical blocking issues: resolved module name conflicts and missing imports that were preventing comprehensive type checking
- Harmonized EnhancedMSM protocols, pipeline helpers, and demux fill-policy handling to match runtime defaults while satisfying the remaining mypy signature checks.
- Reduced cyclomatic complexity in replica-exchange feature extraction, exchange log parsing, and fallback loader initialization to satisfy flake8 C901 without altering runtime behavior.
- Refactored transform pipeline helpers to lower cyclomatic complexity while preserving Deep-TICA training behavior.
- Simplified shard selection, MSM/FES builders, and runner orchestration into reusable helpers for maintainability.
- Fixed the Streamlit example application startup by importing the missing typing helpers in `transform/apply` and exposing the demultiplexing writer type for static analysis.
- Corrected the demultiplexing stack: restored the `DemuxIntegrityError` re-export, fixed streaming state bookkeeping and parallel segment reads, and now record trajectory digests from frame data so repeated demux runs produce identical manifests.

<!--
### Security

- A bullet item for the Security category.

-->
